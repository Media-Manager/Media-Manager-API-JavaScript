var mediamanager="undefined"!=typeof mediamanager?mediamanager:{};mediamanager.external=new function(){var e="http://{shortname}.dev.mediamanager.io/api/v1/external",n={};this.client=function(n){mediamanager.client=n,e=parseBaseURL()},this.addFilter=function(e,i){n[e]=i},serialize=function(e){var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return n.join("&")},parseBaseURL=function(){return"undefined"!=typeof mediamanager.client?e.replace("{shortname}",mediamanager.client):void console.error("Missing client shortname")},request=function(e,n){n=n||function(){},nanoajax.ajax({url:e,method:"GET"},function(e,i,o){var t=JSON.parse(i);return"undefined"!=typeof t.error?void console.error(t.error.message):void n(t,e,o)})},this.template=new function(){this.getMostViewedVideos=function(n,i){return"undefined"==typeof n?void console.error("Missing templateID"):void request(e+"/template/"+n+"/videos/mostviewed",i)},this.getVideos=function(n,i){return"undefined"==typeof n?void console.error("Missing templateID"):void request(e+"/template/"+n+"/videos/latest",i)},this.searchVideos=function(n,i,o){return"undefined"==typeof n?void console.error("Missing templateID"):void request(e+"/template/"+n+"/video/search?term="+i,o)},this.getVideos=function(n,i){return"undefined"==typeof n?void console.error("Missing templateID"):void request(e+"/template/"+n+"/videos",i)},this.getAudios=function(n,i){return"undefined"==typeof n?void console.error("Missing templateID"):void request(e+"/template/"+n+"/audios",i)},this.recommendVideo=function(n,i,o){return"undefined"==typeof n?void console.error("Missing templateID"):"undefined"==typeof i?void console.error("Missing videoid"):void request(e+"/template/"+n+"/videos/recommend/"+i,o)}}};