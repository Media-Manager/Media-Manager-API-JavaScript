mediamanager="undefined"!=typeof mediamanager?mediamanager:{},function(e){var t={serialize:function(e){return Object.keys(e).reduce(function(t,i){var n=e[i],r=encodeURIComponent(i)+"="+encodeURIComponent(n);return t.push(r),t},[]).join("&")},templateReplace:function(e,t){return Object.keys(t).reduce(function(e,i){var n=t[i],r=RegExp("{\\s*"+i+"\\s*}","g");return e.replace(r,n)},e)},request:function(e,i,n){i=i||function(){},n=n||{},nanoajax.ajax({url:e+"?"+t.serialize(n),method:"GET"},function(e,t,n){var r=JSON.parse(t);return"undefined"!=typeof r.error?void console.error(r.error.message):void i(r,e,n)})},clone:function(e){var t=Object.getPrototypeOf(e),i=Object.create(t);return Object.keys(e).reduce(function(t,i){return t[i]=e[i],t},i)},extend:function(e,i){return Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},t.clone(e))}},i={baseURL:"https://{shortname}.getmediamanager.com/api/v1/external",globalFilters:{},create:function(e){var t=Object.create(this);return t=Object.keys(e).reduce(function(t,i){var n=e[i];return t[i]=n,t},t),Object.freeze(t)},client:function(t){return t&&(e.sn=t),e.sn},embed:function(t,i){return"undefined"!=typeof e.embed?"undefined"!=typeof t?(e.embed(i),void ping(t,e.id)):void console.error("No templateID passed"):void console.error("Missing Media Manager smart embed!")}},n=i.create({getMostViewedVideos:function(e,i,n){if("undefined"==typeof e)return void console.error("Missing templateID");var r=t.templateReplace(this.baseURL,{shortname:this.client()});n=t.extend(this.globalFilters,n),t.request(r+"/template/"+e+"/videos/mostviewed",i,n)},getLatestVideos:function(e,i,n){if("undefined"==typeof e)return void console.error("Missing templateID");var r=t.templateReplace(this.baseURL,{shortname:this.client()});n=t.extend(this.globalFilters,n),t.request(r+"/template/"+e+"/videos/latest",i,n)},getVideo:function(e,i,n,r){if("undefined"==typeof i)return void console.error("Missing templateID");if("undefined"==typeof e)return void console.error("Missing videoID");var o=t.templateReplace(this.baseURL,{shortname:this.client()});r=t.extend(this.globalFilters,r),t.request(o+"/template/"+i+"/video/"+e,n,r)},searchVideos:function(e,i,n,r){if("undefined"==typeof e)return void console.error("Missing templateID");var o=t.templateReplace(this.baseURL,{shortname:this.client()});r=t.extend(this.globalFilters,r),r=t.extend(r,{term:i}),t.request(o+"/template/"+e+"/video/search",n,r)},getVideos:function(e,i,n){if("undefined"==typeof e)return void console.error("Missing templateID");var r=t.templateReplace(this.baseURL,{shortname:this.client()});n=t.extend(this.globalFilters,n),t.request(r+"/template/"+e+"/videos",i,n)},getAudios:function(e,i,n){if("undefined"==typeof e)return void console.error("Missing templateID");var r=t.templateReplace(this.baseURL,{shortname:this.client()});n=t.extend(this.globalFilters,n),t.request(r+"/template/"+e+"/audios",i,n)},recommendVideo:function(e,i,n,r){if("undefined"==typeof e)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing videoid");var o=t.templateReplace(this.baseURL,{shortname:this.client()});r=t.extend(this.globalFilters,r),t.request(o+"/template/"+e+"/videos/recommend/"+i,n,r)}}),r=i.create({getVideos:function(e,i,n){if("undefined"==typeof i)return void console.error("Missing templateID");if("undefined"==typeof e)return void console.error("Missing playlistID");var r=t.templateReplace(this.baseURL,{shortname:this.client()}),o={templateID:i};t.request(r+"/playlist/"+e+"/videos",n,o)},getAudios:function(e,i,n){if("undefined"==typeof i)return void console.error("Missing templateID");if("undefined"==typeof e)return void console.error("Missing playlistID");var r=t.templateReplace(this.baseURL,{shortname:this.client()}),o={templateID:i};t.request(r+"/playlist/"+e+"/audios",n,o)},getAudio:function(e,i,n,r){if("undefined"==typeof i)return void console.error("Missing templateID");if("undefined"==typeof e)return void console.error("Missing playlistID");var o=t.templateReplace(this.baseURL,{shortname:this.client()}),s={templateID:i};t.request(o+"/playlist/"+e+"/audio/"+n,r,s)},getVideo:function(e,i,n,r){if("undefined"==typeof i)return void console.error("Missing templateID");if("undefined"==typeof e)return void console.error("Missing playlistID");var o=t.templateReplace(this.baseURL,{shortname:this.client()}),s={templateID:i};t.request(o+"/playlist/"+e+"/video/"+n,r,s)}});e.external=i.create({template:n,playlist:r,util:t})}(mediamanager);