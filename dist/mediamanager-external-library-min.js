mediamanager="undefined"!=typeof mediamanager?mediamanager:{},function(e){var t={serialize:function(e){return Object.keys(e).reduce(function(t,i){var n=e[i],r=encodeURIComponent(i)+"="+encodeURIComponent(n);return t.push(r),t},[]).join("&")},templateReplace:function(e,t){return Object.keys(t).reduce(function(e,i){var n=t[i],r=RegExp("{\\s*"+i+"\\s*}","g");return e.replace(r,n)},e)},request:function(e,i,n){i=i||function(){},n=n||{},nanoajax.ajax({url:e+"?"+t.serialize(n),method:"GET"},function(e,t,n){var r=JSON.parse(t);return"undefined"!=typeof r.error?void console.error(r.error.message):void i(r,e,n)})},clone:function(e){var t=Object.getPrototypeOf(e),i=Object.create(t);return Object.keys(e).reduce(function(t,i){return t[i]=e[i],t},i)},extend:function(e,i){return Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},t.clone(e))}},i={baseURL:"https://{shortname}.getmediamanager.com/api/v1/external",globalFilters:{},create:function(e){var t=Object.create(this);return t=Object.keys(e).reduce(function(t,i){var n=e[i];return t[i]=n,t},t),Object.freeze(t)},client:function(t){return t&&(e.sn=t),e.sn},embed:function(t,i){return"undefined"!=typeof e.embed?"undefined"!=typeof t?(e.embed(i),void ping(t,e.id)):void console.error("No templateID passed"):void console.error("Missing Media Manager smart embed!")}},n=i.create({getMostViewedVideos:function(e,i){if("undefined"==typeof e)return void console.error("Missing templateID");var n=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(n+"/template/"+e+"/videos/mostviewed",i)},getLatestVideos:function(e,i){if("undefined"==typeof e)return void console.error("Missing templateID");var n=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(n+"/template/"+e+"/videos/latest",i)},getVideo:function(e,i,n){if("undefined"==typeof i)return void console.error("Missing templateID");if("undefined"==typeof e)return void console.error("Missing videoID");var r=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(r+"/template/"+i+"/video/"+e,n)},searchVideos:function(e,i,n){if("undefined"==typeof e)return void console.error("Missing templateID");var r=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(r+"/template/"+e+"/video/search",n,{term:i})},getVideos:function(e,i){if("undefined"==typeof e)return void console.error("Missing templateID");var n=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(n+"/template/"+e+"/videos",i)},getAudios:function(e,i){if("undefined"==typeof e)return void console.error("Missing templateID");var n=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(n+"/template/"+e+"/audios",i)},recommendVideo:function(e,i,n){if("undefined"==typeof e)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing videoid");var r=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(r+"/template/"+e+"/videos/recommend/"+i,n)}}),r=i.create({getVideos:function(i,n,r){if("undefined"==typeof n)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing playlistID");e.external.addFilter("templateID",n);var o=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(o+"/playlist/"+i+"/videos",r)},getAudios:function(i,n,r){if("undefined"==typeof n)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing playlistID");e.external.addFilter("templateID",n);var o=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(o+"/playlist/"+i+"/audios",r)},getVideos:function(i,n,r){if("undefined"==typeof n)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing playlistID");e.external.addFilter("templateID",n);var o=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(o+"/playlist/"+i+"/videos",r)},getAudio:function(i,n,r,o){if("undefined"==typeof n)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing playlistID");e.external.addFilter("templateID",n);var s=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(s+"/playlist/"+i+"/audio/"+r,o)},getVideo:function(i,n,r,o){if("undefined"==typeof n)return void console.error("Missing templateID");if("undefined"==typeof i)return void console.error("Missing playlistID");e.external.addFilter("templateID",n);var s=t.templateReplace(this.baseURL,{shortname:this.client()});t.request(s+"/playlist/"+i+"/video/"+r,o)}});e.external=i.create({template:n,playlist:r,util:t})}(mediamanager);